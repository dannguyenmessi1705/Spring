# Annotation Primary và Qualifier trong Spring
## 1. Annotation @Primary
Trong Spring Framework, khi chúng ta có nhiều Bean cùng kiểu dữ liệu, chúng ta có thể sử dụng Annotation `@Primary` để chỉ định Bean mặc định sẽ được sử dụng.

Ví dụ:
> Hello.java
```java
package com.example.demo;
public interface Hello {
    String display();
}

```
> HelloWorld.java
```java
package com.example.demo;

import org.springframework.context.stereotype.Component;

@Component // Đánh dấu đây là một Bean
public class HelloWorld implements Hello{
    public String display() {
        return "Hello World!";
    }
}
```
> HelloVietnam.java
```java
package com.example.demo;

import org.springframework.context.annotation.Primary;
import org.springframework.context.stereotype.Component;

@Component // Đánh dấu đây là một Bean
@Primary // Đánh dấu đây là Bean mặc định
public class HelloVietnam implements Hello{
    public String display() {
        return "Xin chào!";
    }
}

```
> Main.java
```java
package com.example.demo;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration // Đánh dấu đây là một Configuration class
@ComponentScan("com.example.demo") // Quét các Bean trong package com.example.demo và package con của nó
public class Main {
    public static void main(String[] args) {
        try (var context = new AnnotationConfigApplicationContext(Main.class)) {
            var text = context.getBean(Hello.class);
            System.out.println(text.display()); // In ra màn hình, kết quả sẽ là "Xin chào!"
        }
    }
}
```

Trong ví dụ trên, chúng ta có hai Bean cùng kiểu dữ liệu `String`, Bean `HelloVietnam` được đánh dấu là Bean mặc định với Annotation `@Primary`, nên khi chúng ta lấy Bean từ context, Bean `HelloVietnam` sẽ được lấy ra.

## 2. Annotation @Qualifier
Trong Spring Framework, khi chúng ta có nhiều Bean cùng kiểu dữ liệu, chúng ta có thể sử dụng Annotation `@Qualifier` để chỉ định Bean cụ thể sẽ được sử dụng.

Độ ưu tiên cuả `@Qualifier` cao hơn `@Primary`.

Ví dụ:
> Hello.java
```java
package com.example.demo;
public interface Hello {
    String display();
}

```
> HelloWorld.java
```java
package com.example.demo;

import org.springframework.context.stereotype.Component;

@Component // Đánh dấu đây là một Bean
public class HelloWorld implements Hello{
    public String display() {
        return "Hello World!";
    }
}
```
> HelloVietnam.java
```java
package com.example.demo;

import org.springframework.context.annotation.Qualifier;
import org.springframework.context.stereotype.Component;

@Component // Đánh dấu đây là một Bean
@Qualifier("vietnam") // Đánh dấu tên cho Bean
public class HelloVietnam implements Hello{
    public String display() {
        return "Xin chào!";
    }
}

```
> Main.java
```java
package com.example.demo;

import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration // Đánh dấu đây là một Configuration class
@ComponentScan("com.example.demo") // Quét các Bean trong package com.example.demo và package con của nó
public class Main {
    public static void main(String[] args) {
        try (var context = new AnnotationConfigApplicationContext(Main.class)) {
            var text = context.getBean(@Qualifier("vietnam") Hello.class); // Lấy Bean có tên là "vietnam" từ context
            System.out.println(text.display()); // In ra màn hình, kết quả sẽ là "Xin chào!"
        }
    }
}
```

Trong ví dụ trên, chúng ta có hai Bean cùng kiểu dữ liệu `String`, Bean `helloVietnam` được đánh dấu với tên "vietnam" với Annotation `@Qualifier`, nên khi chúng ta lấy Bean từ context, Bean `helloVietnam` sẽ được lấy ra.

Mặc định, nếu không sử dụng `@Qualifier`, muốn lấy Bean cụ thể, chúng ta phải sử dụng tên của Bean (tên mặc định là tên phương thức, class tạo Bean).