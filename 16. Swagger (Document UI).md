# Sử dụng Swagger (Document UI) trong Spring Boot
## 1. Giới thiệu
`Swagger` là một công cụ giúp tạo ra tài liệu API một cách tự động và dễ dàng. Swagger giúp tạo ra một giao diện người dùng để xem và thử nghiệm các API một cách dễ dàng.

## 2. Cài đặt Swagger trong Spring Boot
Để cài đặt `Swagger` trong ứng dụng Spring Boot, lên web [Swagger](https://springdoc.org/) để tìm hiểu cách cài đặt. Cụ thể:

### 2.1. Thêm `dependency` vào `pom.xml`
```xml
   <dependency>
      <groupId>org.springdoc</groupId>
      <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
      <version>2.5.0</version>
   </dependency>
```
Sau khi thêm `dependency`, chúng ta cần khởi động lại ứng dụng Spring Boot để `Swagger` có thể hoạt động. Nó tự động bắt đầu tạo tài liệu API từ các `Controller` trong ứng dụng.

### 2.2. Cấu hình đuờng dẫn `Swagger`
Mặc định khi chúng ta cài đặt `Swagger`, nó sẽ được cấu hình ở đường dẫn:
    - `/swagger-ui.html` - Giao diện người dùng để xem và thử nghiệm các API.
    - `/v3/api-docs` - Tài liệu API dưới dạng `JSON`.
Để cấu hình đường dẫn `Swagger`, chúng ta có thể sử dụng `application.properties` hoặc `application.yml`:
```properties
# Đường dẫn tài liệu API
springdoc.api-docs.path=/api-docs 
# Đường dẫn giao diện người dùng
springdoc.swagger-ui.path=/swagger-ui 
# Tắt cache để xem thay đổi ngay lập tức
springdoc.cache.disabled=true 
# Sắp xếp các tag theo thứ tự bảng chữ cái
springdoc.swagger-ui.tags-sorter=alpha 
# Sắp xếp các operation, api route theo thứ tự bảng chữ cái
springdoc.swagger-ui.operations-sorter=alpha 
```

## 3. Sử dụng Annotation `@OpenAPIDefinition` để định nghĩa thông tin chung cho tài liệu API
Chúng ta có thể sử dụng `@OpenAPIDefinition` để định nghĩa thông tin chung cho tài liệu API bằng cách thêm annotation này vào đầu class chính chạy ứng dụng Spring Boot:
>Application.java
```java
...
@OpenAPIDefinition( // Định nghĩa thông tin chung cho tài liệu API
	info = @Info( // Thông tin tài liệu API
		title = "Microservices Accounts API documents", // Tiêu đề tài liệu
		description = "Microservices Accounts API documents", // Mô tả tài liệu
		version = "v1", // Phiên bản tài liệu
		contact = @Contact( // Thông tin liên hệ
			name = "Nguyen Di Dan", // Tên
			url = "https://my.didan.id.vn", // URL
			email = "didannguyen17@gmail.com" // Email
		),
		license = @License( // Thông tin bản quyền
			name = "Apache 2.0", // Tên bản quyền
			url = "https://my.didan.id.vn" // URL bản quyền
		),
		summary = "Microservices Accounts API documents" // Tóm tắt tài liệu API
	),
	servers = { // Danh sách server mà API hỗ trợ
		@Server( // Server 1
			description = "Localhost", // Mô tả server
			url = "http://localhost:8080" // URL server
		),
		@Server( // Server 2
			description = "Deploy", // Mô tả server
			url = "https://deploy.com" // URL server
		)
	}
)
public class Application {...};
```

## 4. Sử dụng Annotation `@SecuritySchemes` để định nghĩa thông tin bảo mật cho tài liệu API
Chúng ta có thể sử dụng `@SecurityScheme` để định nghĩa thông tin bảo mật cho tài liệu API bằng cách thêm annotation này vào đầu class chính chạy ứng dụng Spring Boot:
>Application.java
```java
...
@SecuritySchemes({ // Danh sách thông tin bảo mật
	@SecurityScheme( // Thông tin bảo mật 1
		name = "bearerAuth", // Tên bảo mật
		type = SecuritySchemeType.HTTP, // Loại bảo mật, bao gồm: API_KEY, HTTP, OAUTH2, OPENID_CONNECT
		bearerFormat = "JWT", // Định dạng token
		scheme = "Bearer" // Scheme bảo mật (Bearer, Basic, ...)
	)
})