# Giao tiếp từ bên ngoài vào trong Microsevices
## 1. Giới thiệu
Trong chủ đề này, chúng ta sẽ tìm hiểu về các khái niệm như:
- `Gateway`: là một dịch vụ đầu vào của hệ thống, nó nhận các request từ `bên ngoài` và `chuyển tiếp` đến các dịch vụ khác `trong hệ thống microservices`.
- `Routing`: là quá trình xác định cách mà một request sẽ được chuyển tiếp từ `gateway` đến `dịch vụ` trong `microservices` cụ thể.
- `Cross-cutting concerns`: là các vấn đề mà mọi dịch vụ trong hệ thống đều cần xử lý, như `logging`, `security`, `monitoring`, `rate limiting`, `caching`, `etc`.

Tất cả những việc này cấu thành `Edge Server/ API Gateway` đóng vai trò như một máy chủ quản lý các request từ bên ngoài và chuyển tiếp đến các dịch vụ khác trong hệ thống.

> Để xây dựng `Edge Server/ API Gateway`, chúng ta có thể sử dụng các công nghệ như `Spring Cloud Gateway`, `Jewel`, `Zuul`, `Kong`, `Nginx`, `Traefik`, `Envoy`, `etc`.

## 2. Spring Cloud Gateway
### 2.1. Giới thiệu
`Spring Cloud Gateway` hợp lý hóa việc tạo các `dịch vụ biên` bằng cách nhấn mạnh vào tính dễ dàng và hiệu quả. Hơn nữa, do sử dụng react framework, nó có thể `mở rộng liền mạch` để xử lý khối lượng công việc đáng kể thường `phát sinh ở rìa hệ thống` trong khi vẫn `duy trì khả năng mở rộng tối ưu`.

Dưới đây là các khía cạnh chính của `Spring Cloud Gateway`:
- `Cổng dịch vụ` đóng vai trò là `người gác cổng - gatekeeper` cho tất cả lưu lượng truy cập đến các API microservices trong ứng dụng của chúng ta. Khi có cổng dịch vụ, khách hàng dịch vụ `không bao giờ` `calls trực tiếp` URL của một dịch vụ riêng lẻ mà thay vào đó thực hiện tất cả các `cuộc gọi đến cổng dịch vụ`.
- `Spring Cloud Gateway` là một thư viện để `xây dựng một cổng API` nên nó trông giống như bất kỳ ứng dụng Spring Boot nào khác.
- `Spring Cloud Gateway` được thiết kế để đặt `giữa` `người yêu cầu` và `tài nguyên đang được yêu cầu`, nơi nó `chặn`, `phân tích` và `sửa đổi` mọi yêu cầu. Điều đó có nghĩa là bạn có thể định tuyến các yêu cầu dựa trên ngữ cảnh của chúng. Yêu cầu có bao gồm tiêu đề cho biết phiên bản API không? Chúng tôi có thể định tuyến yêu cầu đó đến phần phụ trợ được phiên bản phù hợp. Yêu cầu có yêu cầu phiên cố định không? Cổng có thể theo dõi phiên của từng người dùng.

`Cổng dịch vụ` nằm `giữa` tất cả các `cuộc gọi từ máy khách đến các dịch vụ riêng lẻ` và` hoạt động như một Điểm thực thi chính sách (PEP)` trung tâm như:
- Định tuyến (Cả tĩnh và động)
- Bảo mật (Xác thực & Ủy quyền)
- Ghi nhật ký, kiểm tra và số liệu

[Spring Cloud Gateway](https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/)